robots:
  irb140:
    urdf: "/software/perception/manipulation_tracking/urdf/irb140_chull_ati_gelsight.urdf"
    q0:
      base_x: -0.17
      base_z: 0.91

  optotrak_cube:
    urdf: "/software/perception/manipulation_tracking/urdf/optotrak_cube.urdf"
    q0:
      base_x: 0.6
      base_z: 1.0

  desk:
    urdf: "/software/perception/manipulation_tracking/urdf/desk.urdf"
    q0:
      base_x: 0.6
      base_z: 0.9


publish:
  irb140_state:
    robot_name: "IRB140_ATI_GELSIGHT"
    type: "state"
    channel: "EST_MANIPULAND_STATE_IRB140_ATI_GELSIGHT"
  optotrak_cube_state:
    robot_name: "optotrak_cube"
    type: "state"
    channel: "EST_MANIPULAND_STATE_optotrak_cube"
  desk_state:
    robot_name: "desk"
    type: "state"
    channel: "EST_MANIPULAND_STATE_desk"

dynamics:
  dynamics_floating_base_var: 0.00001 # m per frame
  dynamics_other_var: 0.1 # rad per frame
  verbose: False

costs:
  - type: "OptotrakMarkerCost"
    verbose: false
    verbose_lcmgl: true
    timeout_time: 0.2
    localization_var: 0.001
    transform_var: .inf
    world_frame: true
    attached_manipuland: "optotrak_cube"
    markers:
# all units mm
# x width: 132.4
# y width: 126.1
# z widht: 126.1
# no markers on +x, -x surfaces, which are plates screwed onto box
#   12.4mm in from +x, -x surfaces
#   9.4mm in from the other direction
# origin is at the middle, so all markers are at x = +/- 53.8mm
#                                 and +/- 53.65mm in other dir
      - id: 1       
        body: "optotrak_cube"
        pos: [-0.05380, -0.05365,  0.05365]
      - id: 2       
        body: "optotrak_cube"
        pos: [ 0.05380, -0.05365,  0.05365]
      - id: 3       
        body: "optotrak_cube"
        pos: [ 0.05380,  0.05365,  0.05365]
      - id: 4       
        body: "optotrak_cube"
        pos: [-0.05380,  0.05365,  0.05365]
      - id: 5       
        body: "optotrak_cube"
        pos: [-0.05380,  0.05365,  0.05365]
      - id: 6       
        body: "optotrak_cube"
        pos: [ 0.05380,  0.05365,  0.05365]
      - id: 7       
        body: "optotrak_cube"
        pos: [ 0.05380,  0.05365, -0.05365]
      - id: 8       
        body: "optotrak_cube"
        pos: [-0.05380,  0.05365, -0.05365]
      - id: 9       
        body: "optotrak_cube"
        pos: [-0.05380,  0.05365, -0.05365]
      - id: 10      
        body: "optotrak_cube"
        pos: [ 0.05380,  0.05365, -0.05365]
      - id: 11      
        body: "optotrak_cube"
        pos: [ 0.05380, -0.05365, -0.05365]
      - id: 12      
        body: "optotrak_cube"
        pos: [-0.05380, -0.05365, -0.05365]
      - id: 13      
        body: "optotrak_cube"
        pos: [-0.05380, -0.05365, -0.05365]
      - id: 14      
        body: "optotrak_cube"
        pos: [ 0.05380, -0.05365, -0.05365]
      - id: 15      
        body: "optotrak_cube"
        pos: [ 0.05380, -0.05365,  0.05365]
      - id: 16      
        body: "optotrak_cube"
        pos: [-0.05380, -0.05365,  0.05365]

  - type: "OptotrakMarkerCost"
    verbose: false
    verbose_lcmgl: true
    timeout_time: 0.2
    localization_var: 0.001
    transform_var: .inf
    world_frame: true
    attached_manipuland: "IRB140_ATI_GELSIGHT"
    clusters:
      - ids: [16, 17, 18]
        body: "link_1"
        pos: [0.07, -0.242, 0.204]
        rpy: [0., 0., -90.]
      - ids: [19, 20, 21]
        body: "link_3"
        pos: [0.099, 0.078, 0.074]
        rpy: [0., 0., -90.0]
      - ids: [22, 23, 24]
        body: "link_4"
        pod: [0.161, 0.001, 0.070]
        rpy: [0., 0., -90.0]

  - type: "RobotStateCost"
    joint_known_fb_var: .inf # m
    joint_known_encoder_var: 0.001 # radian
    transcribe_floating_base_vars: False
    verbose: False
    state_channelname: "EST_ROBOT_STATE"